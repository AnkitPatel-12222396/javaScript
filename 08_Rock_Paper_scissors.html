<!DOCTYPE html>
<html lang="en">
<head>
  <title>Rock-Paper-Scissors</title>
</head>
<body>
  <button onclick = " 
  playGame('Rock');
  ">Rock</button>

  <button onclick = "
    playGame('Paper');
  ">Paper</button>

  <button onclick ="
    playGame('Scissors');
  ">Scissors</button>

  <button onclick = " 
  score.wins = 0;
  score.losses = 0;
  score.ties = 0;
  localStorage.removeItem('score');
  ">Reset Score</button>

  <script>

    let score = JSON.parse(localStorage.getItem('score')) || {
      wins : 0,
      losses : 0,
      ties :0 
    };

    /*
      if (!score) {
        score = {
          wins: 0,
          losses: 0,
          ties: 0
        };
      }
      */

    function playGame(playerMove){

    const computerMove = pickComputerMove();

    let result = '';

    if(playerMove=== 'Rock'){
      if(computerMove === 'Rock'){
        result = 'Tie';
      }else if(computerMove === 'Paper'){
        result = 'You Lose';
      }else{
        result = 'You win';
      }
    }
    
    else if(playerMove === 'Paper'){
      if(computerMove === 'Rock'){
      result = 'You win';
    }else if(computerMove === 'Paper'){
      result = 'Tie';
    }else{
      result = 'You Lose';
    }
    }
    
    else if(playerMove === 'Scissors'){
      if(computerMove === 'Rock'){
      result = 'You Lose';
    }else if(computerMove === 'Paper'){
      result = 'You win';
    }else{
      result = 'Tie';
    }
    }
  
    if(result === 'You win'){
      score.wins++;
    }else if(result === 'Tie'){
      score.ties++;
    }else{
      score.losses++;
    }

    localStorage.setItem('score',JSON.stringify(score));

    alert(`You picked ${playerMove}.Computer picked ${computerMove}.${result}.
wins:${score.wins}, losses:${score.losses},ties:${score.ties}`)
  }
    /*
    let computerMove = '';
    function pickComputerMove(){
      const random = Math.random();
      
      if(random>=0 && random <1/3){
        computerMove = 'Rock'
      }else if(random >= 1/3 && random < 2/3){
        computerMove = 'Paper'
      }else{
        computerMove = 'Scissors'
      }
    }
      */
      
      function pickComputerMove(){
        const random = Math.random();
        let computerMove = '';

        if(random>=0 && random <1/3){
          computerMove = 'Rock'
        }else if(random >= 1/3 && random < 2/3){
          computerMove = 'Paper'
        }else{
          computerMove = 'Scissors'
        }
        return computerMove;
      }
  </script>
</body>
</html>